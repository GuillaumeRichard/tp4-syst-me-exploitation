from messages import Messages


class Prompt:

    def __init__(self, client, print_answer):
        self.client = client
        self.print_answer = print_answer
        self.quit_has_been_called = False

        self.print_welcome_message()
        self.listen_for_input()

    def print_welcome_message(self):
        self.print_answer(Messages.WELCOME_MESSAGE)

    def listen_for_input(self):
        while True:
            client_input = self.get_client_input()
            self.interpret_input(client_input)

            if self.quit_has_been_called:
                break

    @staticmethod
    def get_client_input():
        return input(Messages.ENTER_COMMAND)

    def interpret_input(self, client_input):
        if client_input == "connecter?":
            self.greeting()
        # elif client_input == "nomServeur?":
        #     self.get_server_name()
        # elif "listeDossier?" in client_input:
        #     self.get_folder_list(client_input)
        # elif "dossier?" in client_input:
        #     self.verify_folder_exists(client_input)
        # elif "fichier?" in client_input:
        #     self.verify_file_exists(client_input)
        # elif "creerDossier?" in client_input:
        #     self.create_folder(client_input)
        # elif "televerser?" in client_input:
        #     self.upload_file(client_input)
        # elif "telecharger?" in client_input:
        #     self.download_file(client_input)
        # elif "supprimerDossier?" in client_input:
        #     self.delete_folder(client_input)
        # elif "supprimerFichier?" in client_input:
        #     self.delete_file(client_input)
        # elif "identiqueFichier?" in client_input or "fichierIdentique?" in client_input:
        #     self.verify_file_is_identical(client_input)
        # elif "recentFichier?" in client_input or "fichierRecent?" in client_input:
        #     self.verify_file_is_more_recent(client_input)
        # elif "miseAjour" in client_input:
        #     self.update(client_input)
        # elif client_input == "quitter":
        #     self.quit()
        else:
            self.print_answer(Messages.BAD_COMMAND)

    def greeting(self):
        server_answer = self.client.greeting()

        if "bonjourClient" in server_answer:
            self.print_answer(Messages.YES)
        else:
            self.print_answer(Messages.NO)
